/**
 * 敏感词过滤模块
 */

// 敏感词列表（包含简体和繁体）
const sensitiveWords = [
    // 政治敏感词
    '政治', '革命', '民主', '自由', '独立', '抗议', '示威', '游行',
    '暴动', '政变', '政权', '政府', '领导人', '主席', '总统', '总理',
    '国家', '国务院', '中央', '共产党', '党', '军队', '军事', '武器',
    '核武器', '导弹', '战争', '冲突', '制裁', '人权', '言论自由',
    '政协', '人大', '法轮', '维权', '异见', '反动', '颠覆', '政见',
    '政改', '民运', '政治庇护', '政治迫害', '政治避难', '政治犯',
    '政治运动', '政治立场', '政治倾向', '政治观点', '政治诉求',
    '分裂', '分裂国家', '分裂活动', '分裂势力', '分裂分子',
    '反华', '反中', '反共', '反党', '反政府', '反社会', '反体制',
    '国安', '国家安全', '国家机密', '国家秘密', '国家利益',
    
    // 暴力内容
    '暴力', '血腥', '杀人', '杀害', '谋杀', '凶杀', '自杀', '死亡',
    '尸体', '枪击', '爆炸', '恐怖', '恐怖主义', '恐怖分子', '袭击',
    '绑架', '劫持', '虐待', '酷刑', '伤害', '残忍', '血液', '血',
    '暴乱', '暴徒', '暴行', '暴动', '暴力执法', '暴力镇压', '暴力革命',
    '暴力抗争', '暴力事件', '暴力冲突', '暴力犯罪', '暴力团伙',
    '暴力威胁', '暴力胁迫', '暴力手段', '暴力倾向', '暴力行为',
    '血案', '血战', '血洗', '血债', '血海深仇', '血腥暴力',
    '屠杀', '屠城', '屠村', '屠戮', '屠宰', '屠夫', '屠刀',
    '砍杀', '砍头', '砍人', '砍死', '砍伤', '砍断', '砍掉',
    '枪决', '枪毙', '枪杀', '枪战', '枪手', '枪支', '枪械',
    '炸弹', '炸药', '炸死', '炸伤', '炸毁', '炸裂', '炸碎',
    '自爆', '自焚', '自残', '自虐', '自戕', '自尽', '自绝',
    
    // 不当言论
    '色情', '淫秽', '性', '性行为', '裸体', '赌博', '毒品', '吸毒',
    '贩毒', '毒贩', '犯罪', '违法', '黑社会', '黑帮', '黑手党',
    '诈骗', '欺诈', '腐败', '贿赂', '洗钱', '歧视', '种族', '宗教',
    '侮辱', '辱骂', '谩骂', '诽谤', '中伤', '仇恨', '偏见',
    '淫乱', '淫荡', '淫靡', '淫邪', '淫亵', '淫秽物品', '淫秽视频',
    '淫秽图片', '淫秽网站', '淫秽内容', '淫秽信息', '淫秽表演',
    '赌场', '赌资', '赌债', '赌徒', '赌博网站', '赌博平台', '赌博游戏',
    '赌博软件', '赌博工具', '赌博设备', '赌博机构', '赌博集团',
    '嫖娼', '卖淫', '妓女', '妓院', '性交易', '性服务', '性工作者',
    '性虐待', '性侵犯', '性骚扰', '性暴力', '性变态', '性异常',
    '吸毒', '贩毒', '制毒', '运毒', '毒品交易', '毒品买卖', '毒品市场',
    '毒品走私', '毒品贸易', '毒品网络', '毒品团伙', '毒品犯罪',
    '种族歧视', '民族歧视', '性别歧视', '宗教歧视', '地域歧视',
    '年龄歧视', '职业歧视', '身份歧视', '阶级歧视', '贫富歧视',
    
    // 特定历史事件
    '文革', '六四', '文化大革命', '大跃进', '三年困难', '土改',
    '反右', '上山下乡', '知青', '红卫兵', '批斗', '清算',
    '平反', '镇反', '肃反', '反革命', '历史问题', '历史事件',
    '天安门', '八九', '学潮', '学运', '动乱', '风波', '政治风波',
    '饥荒', '饥饿', '饥民', '饿殍', '饿死', '饿荒', '饿殍遍野',
    '下放', '劳改', '劳教', '改造', '思想改造', '思想教育', '思想工作',
    '运动', '政治运动', '群众运动', '阶级斗争', '路线斗争', '两条路线',
    
    // 特定组织和团体
    '邪教', '传销', '非法组织', '地下组织', '秘密组织', '非法集会',
    '非法聚集', '非法集团', '非法团体', '非法活动', '非法行为',
    '非法出版', '非法出版物', '非法刊物', '非法书籍', '非法印刷',
    '法轮功', '全能神', '门徒会', '三班仆人', '呼喊派', '东方闪电',
    '观音法门', '灵仙真佛宗', '华藏宗门', '统一教', '科学神教',
    '传销组织', '传销活动', '传销模式', '传销骗局', '传销陷阱',
    '传销头目', '传销人员', '传销团伙', '传销网络', '传销窝点',
    '恐怖组织', '恐怖团体', '恐怖分子', '恐怖势力', '恐怖网络',
    
    // 网络安全
    '黑客', '病毒', '木马', '网络攻击', '网络入侵', '网络诈骗',
    '网络犯罪', '网络欺诈', '网络赌博', '网络色情', '网络暴力',
    '网络谣言', '网络舆论', '网络管制', '网络封锁', '网络监控',
    '网络安全', '信息安全', '数据安全', '系统安全', '安全漏洞',
    '安全威胁', '安全风险', '安全防护', '安全防范', '安全措施',
    '网络钓鱼', '网络诱骗', '网络欺骗', '网络陷阱', '网络骗局',
    '网络窃取', '网络窃密', '网络窃听', '网络窃视', '网络窃照',
    '数据泄露', '数据窃取', '数据篡改', '数据破坏', '数据丢失',
    '隐私泄露', '隐私侵犯', '隐私保护', '隐私权', '个人隐私',
    
    // 金融犯罪
    '洗黑钱', '非法集资', '传销', '诈骗', '欺诈', '非法融资',
    '非法借贷', '非法放贷', '非法吸收', '非法经营', '非法交易',
    '非法买卖', '非法所得', '非法收入', '非法获利', '非法牟利',
    '金融诈骗', '金融欺诈', '金融犯罪', '金融风险', '金融危机',
    '金融崩溃', '金融泡沫', '金融骗局', '金融陷阱', '金融圈套',
    '庞氏骗局', '传销骗局', '集资骗局', '投资骗局', '理财骗局',
    '股票欺诈', '证券欺诈', '期货欺诈', '基金欺诈', '保险欺诈',
    '信用卡欺诈', '银行卡欺诈', '支付欺诈', '网络支付欺诈',
    '虚拟货币欺诈', '数字货币欺诈', '加密货币欺诈',
    
    // 医疗相关敏感词
    '疫情', '传染病', '病毒', '疫苗', '医疗事故', '医疗纠纷',
    '医疗腐败', '医疗欺诈', '医疗事件', '医疗问题', '医疗危机',
    '医疗改革', '医疗体制', '医疗制度', '医疗政策', '医疗资源',
    '医疗费用', '医疗保险', '医疗补助', '医疗救助', '医疗援助',
    '疾病传播', '疾病防控', '疾病预防', '疾病治疗', '疾病管理',
    
    // 环境问题相关词汇
    '污染', '核泄漏', '环境破坏', '生态危机', '气候变化',
    '温室效应', '全球变暖', '环境保护', '环境治理', '环境问题',
    '环境政策', '环境标准', '环境监测', '环境评估', '环境影响',
    '水污染', '空气污染', '土壤污染', '噪声污染', '光污染',
    '核污染', '辐射污染', '化学污染', '有毒物质', '危险废物',
    
    // 科技伦理相关词汇
    '基因编辑', '克隆', '人工智能伦理', '数据伦理', '科技伦理',
    '生命伦理', '医疗伦理', '研究伦理', '实验伦理', '伦理审查',
    '伦理争议', '伦理问题', '伦理风险', '伦理责任', '伦理规范',
    '人体实验', '动物实验', '科学实验', '临床试验', '医学实验',
    
    // 特定人物和称谓
    '领导人', '国家领导人', '党和国家领导人', '最高领导人',
    '党的领导人', '国家的领导人', '党和国家的领导人',
    '主席', '国家主席', '党主席', '中央主席', '军委主席',
    '总书记', '党总书记', '中央总书记', '党中央总书记',
    '总理', '国务院总理', '政府总理', '国家总理',
    '副主席', '国家副主席', '党副主席', '中央副主席',
    '副总理', '国务院副总理', '政府副总理', '国家副总理',
    
    // 敏感地区和民族问题
    '台独', '藏独', '疆独', '港独', '蒙独', '独立运动',
    '分裂主义', '民族分裂', '民族矛盾', '民族冲突', '民族问题',
    '民族政策', '民族关系', '民族团结', '民族融合', '民族和谐',
    '台湾问题', '西藏问题', '新疆问题', '香港问题', '内蒙问题',
    '台海', '台海局势', '台海危机', '台海冲突', '台海战争',
    '一国两制', '和平统一', '和平解放', '和平回归', '和平发展',
    
    // 繁体中文敏感词
    '政治', '革命', '民主', '自由', '獨立', '抗議', '示威', '遊行',
    '暴動', '政變', '政權', '政府', '領導人', '主席', '總統', '總理',
    '國家', '國務院', '中央', '共產黨', '黨', '軍隊', '軍事', '武器',
    '核武器', '導彈', '戰爭', '衝突', '制裁', '人權', '言論自由',
    '政協', '人大', '法輪', '維權', '異見', '反動', '顛覆', '政見',
    '政改', '民運', '政治庇護', '政治迫害', '政治避難', '政治犯',
    '政治運動', '政治立場', '政治傾向', '政治觀點', '政治訴求',
    '分裂', '分裂國家', '分裂活動', '分裂勢力', '分裂分子',
    '反華', '反中', '反共', '反黨', '反政府', '反社會', '反體制',
    '國安', '國家安全', '國家機密', '國家秘密', '國家利益',
    
    '暴力', '血腥', '殺人', '殺害', '謀殺', '兇殺', '自殺', '死亡',
    '屍體', '槍擊', '爆炸', '恐怖', '恐怖主義', '恐怖分子', '襲擊',
    '綁架', '劫持', '虐待', '酷刑', '傷害', '殘忍', '血液', '血',
    '暴亂', '暴徒', '暴行', '暴動', '暴力執法', '暴力鎮壓', '暴力革命',
    '暴力抗爭', '暴力事件', '暴力衝突', '暴力犯罪', '暴力團伙',
    '暴力威脅', '暴力脅迫', '暴力手段', '暴力傾向', '暴力行為',
    '血案', '血戰', '血洗', '血債', '血海深仇', '血腥暴力',
    '屠殺', '屠城', '屠村', '屠戮', '屠宰', '屠夫', '屠刀',
    '砍殺', '砍頭', '砍人', '砍死', '砍傷', '砍斷', '砍掉',
    '槍決', '槍斃', '槍殺', '槍戰', '槍手', '槍支', '槍械',
    '炸彈', '炸藥', '炸死', '炸傷', '炸毀', '炸裂', '炸碎',
    '自爆', '自焚', '自殘', '自虐', '自戕', '自盡', '自絕',
    
    '色情', '淫穢', '性', '性行為', '裸體', '賭博', '毒品', '吸毒',
    '販毒', '毒販', '犯罪', '違法', '黑社會', '黑幫', '黑手黨',
    '詐騙', '欺詐', '腐敗', '賄賂', '洗錢', '歧視', '種族', '宗教',
    '侮辱', '辱罵', '謾罵', '誹謗', '中傷', '仇恨', '偏見',
    '淫亂', '淫蕩', '淫靡', '淫邪', '淫褻', '淫穢物品', '淫穢視頻',
    '淫穢圖片', '淫穢網站', '淫穢內容', '淫穢信息', '淫穢表演',
    '賭場', '賭資', '賭債', '賭徒', '賭博網站', '賭博平台', '賭博遊戲',
    '賭博軟件', '賭博工具', '賭博設備', '賭博機構', '賭博集團',
    '嫖娼', '賣淫', '妓女', '妓院', '性交易', '性服務', '性工作者',
    '性虐待', '性侵犯', '性騷擾', '性暴力', '性變態', '性異常',
    '吸毒', '販毒', '製毒', '運毒', '毒品交易', '毒品買賣', '毒品市場',
    '毒品走私', '毒品貿易', '毒品網絡', '毒品團伙', '毒品犯罪',
    '種族歧視', '民族歧視', '性別歧視', '宗教歧視', '地域歧視',
    '年齡歧視', '職業歧視', '身份歧視', '階級歧視', '貧富歧視',
    
    '文革', '六四', '文化大革命', '大躍進', '三年困難', '土改',
    '反右', '上山下鄉', '知青', '紅衛兵', '批鬥', '清算',
    '平反', '鎮反', '肅反', '反革命', '歷史問題', '歷史事件',
    '天安門', '八九', '學潮', '學運', '動亂', '風波', '政治風波',
    '饑荒', '饑餓', '饑民', '餓殍', '餓死', '餓荒', '餓殍遍野',
    '下放', '勞改', '勞教', '改造', '思想改造', '思想教育', '思想工作',
    '運動', '政治運動', '群眾運動', '階級鬥爭', '路線鬥爭', '兩條路線',
    
    '邪教', '傳銷', '非法組織', '地下組織', '秘密組織', '非法集會',
    '非法聚集', '非法集團', '非法團體', '非法活動', '非法行為',
    '非法出版', '非法出版物', '非法刊物', '非法書籍', '非法印刷',
    '法輪功', '全能神', '門徒會', '三班僕人', '呼喊派', '東方閃電',
    '觀音法門', '靈仙真佛宗', '華藏宗門', '統一教', '科學神教',
    '傳銷組織', '傳銷活動', '傳銷模式', '傳銷騙局', '傳銷陷阱',
    '傳銷頭目', '傳銷人員', '傳銷團伙', '傳銷網絡', '傳銷窩點',
    '恐怖組織', '恐怖團體', '恐怖分子', '恐怖勢力', '恐怖網絡',
    
    '黑客', '病毒', '木馬', '網絡攻擊', '網絡入侵', '網絡詐騙',
    '網絡犯罪', '網絡欺詐', '網絡賭博', '網絡色情', '網絡暴力',
    '網絡謠言', '網絡輿論', '網絡管制', '網絡封鎖', '網絡監控',
    '網絡安全', '信息安全', '數據安全', '系統安全', '安全漏洞',
    '安全威脅', '安全風險', '安全防護', '安全防範', '安全措施',
    '網絡釣魚', '網絡誘騙', '網絡欺騙', '網絡陷阱', '網絡騙局',
    '網絡竊取', '網絡竊密', '網絡竊聽', '網絡竊視', '網絡竊照',
    '數據洩露', '數據竊取', '數據篡改', '數據破壞', '數據丟失',
    '隱私洩露', '隱私侵犯', '隱私保護', '隱私權', '個人隱私',
    
    '洗黑錢', '非法集資', '傳銷', '詐騙', '欺詐', '非法融資',
    '非法借貸', '非法放貸', '非法吸收', '非法經營', '非法交易',
    '非法買賣', '非法所得', '非法收入', '非法獲利', '非法牟利',
    '金融詐騙', '金融欺詐', '金融犯罪', '金融風險', '金融危機',
    '金融崩潰', '金融泡沫', '金融騙局', '金融陷阱', '金融圈套',
    '龐氏騙局', '傳銷騙局', '集資騙局', '投資騙局', '理財騙局',
    '股票欺詐', '證券欺詐', '期貨欺詐', '基金欺詐', '保險欺詐',
    '信用卡欺詐', '銀行卡欺詐', '支付欺詐', '網絡支付欺詐',
    '虛擬貨幣欺詐', '數字貨幣欺詐', '加密貨幣欺詐',
    
    '疫情', '傳染病', '病毒', '疫苗', '醫療事故', '醫療糾紛',
    '醫療腐敗', '醫療欺詐', '醫療事件', '醫療問題', '醫療危機',
    '醫療改革', '醫療體制', '醫療制度', '醫療政策', '醫療資源',
    '醫療費用', '醫療保險', '醫療補助', '醫療救助', '醫療援助',
    '疾病傳播', '疾病防控', '疾病預防', '疾病治療', '疾病管理',
    
    '污染', '核洩漏', '環境破壞', '生態危機', '氣候變化',
    '溫室效應', '全球變暖', '環境保護', '環境治理', '環境問題',
    '環境政策', '環境標準', '環境監測', '環境評估', '環境影響',
    '水污染', '空氣污染', '土壤污染', '噪聲污染', '光污染',
    '核污染', '輻射污染', '化學污染', '有毒物質', '危險廢物',
    
    '基因編輯', '克隆', '人工智能倫理', '數據倫理', '科技倫理',
    '生命倫理', '醫療倫理', '研究倫理', '實驗倫理', '倫理審查',
    '倫理爭議', '倫理問題', '倫理風險', '倫理責任', '倫理規範',
    '人體實驗', '動物實驗', '科學實驗', '臨床試驗', '醫學實驗',
    
    '領導人', '國家領導人', '黨和國家領導人', '最高領導人',
    '黨的領導人', '國家的領導人', '黨和國家的領導人',
    '主席', '國家主席', '黨主席', '中央主席', '軍委主席',
    '總書記', '黨總書記', '中央總書記', '黨中央總書記',
    '總理', '國務院總理', '政府總理', '國家總理',
    '副主席', '國家副主席', '黨副主席', '中央副主席',
    '副總理', '國務院副總理', '政府副總理', '國家副總理',
    
    '台獨', '藏獨', '疆獨', '港獨', '蒙獨', '獨立運動',
    '分裂主義', '民族分裂', '民族矛盾', '民族衝突', '民族問題',
    '民族政策', '民族關係', '民族團結', '民族融合', '民族和諧',
    '台灣問題', '西藏問題', '新疆問題', '香港問題', '內蒙問題',
    '台海', '台海局勢', '台海危機', '台海衝突', '台海戰爭',
    '一國兩制', '和平統一', '和平解放', '和平回歸', '和平發展'
]
/**
 * 检查文本是否包含敏感词
 * @param {string} text - 要检查的文本
 * @returns {boolean} - 如果包含敏感词返回true，否则返回false
 */
function containsSensitiveWords(text) {
    if (!text) return false;
    
    // 转换为小写以进行不区分大小写的匹配
    const lowerText = text.toLowerCase();
    
    // 检查是否包含任何敏感词
    for (const word of sensitiveWords) {
        if (lowerText.includes(word.toLowerCase())) {
            console.log(`检测到敏感词: ${word}`);
            return true;
        }
    }
    
    return false;
}

/**
 * 检查维基百科数据是否包含敏感内容
 * @param {Object} wikiData - 维基百科数据对象
 * @returns {boolean} - 如果包含敏感内容返回true，否则返回false
 */
function checkWikiContent(wikiData) {
    if (!wikiData) return false;
    
    // 检查标题
    if (containsSensitiveWords(wikiData.title)) {
        return true;
    }
    
    // 检查描述
    if (containsSensitiveWords(wikiData.description)) {
        return true;
    }
    
    // 检查摘要
    if (containsSensitiveWords(wikiData.extract)) {
        return true;
    }
    
    return false;
}

module.exports = {
    sensitiveWords,
    containsSensitiveWords,
    checkWikiContent
};